# 分布式系统解决Websocket

通俗的理解分布式系统就是多个独立的计算机或节点组成的系统，分布在多个服务器或者电脑上，共同为用户提供服务的系统。比如在我们的Springboot项目中，如何处理Websocket的连接呢，连接到底分布在哪个节点，如何通信呢。今天我们就来分析一下并通过Redis来解决这个问题。

### 问题

多个节点分别部署在A，B，C三台服务器中，Websocket通过Nginx做负载均衡转发，不清楚连接到底转发到哪个节点上，从而无法处理消息通信。

### 解决

* 在系统中引入Redis缓存。

* 保存Websocket通信连接信息在缓存中。

* 把通信消息发布到Redis订阅中。

* 接受订阅消息确定当前节点是否存在Websocket连接，推送消息。